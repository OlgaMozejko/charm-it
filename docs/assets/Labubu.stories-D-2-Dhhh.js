import{j as y}from"./jsx-runtime-u17CrQMm.js";import{r as x}from"./iframe-DQ8BaD37.js";import"./preload-helper-PPVm8Dsz.js";const Ai=x.createContext({});function Le(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const wn=typeof window<"u",Sn=wn?x.useLayoutEffect:x.useEffect,Pn=x.createContext(null);function An(t,e){t.indexOf(e)===-1&&t.push(e)}function Mn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lt=(t,e,n)=>n>e?e:n<t?t:n;let Zt=()=>{};const ht={},Mi=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Vi(t){return typeof t=="object"&&t!==null}const Di=t=>/^0[^.\s]+$/u.test(t);function Vn(t){let e;return()=>(e===void 0&&(e=t()),e)}const $=t=>t,fo=(t,e)=>n=>e(t(n)),ne=(...t)=>t.reduce(fo),Ft=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Dn{constructor(){this.subscriptions=[]}add(e){return An(this.subscriptions,e),()=>Mn(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ot=t=>t*1e3,Q=t=>t/1e3;function En(t,e){return e?t*(1e3/e):0}const Ei=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,po=1e-7,mo=12;function go(t,e,n,s,i){let o,r,a=0;do r=e+(n-e)/2,o=Ei(r,s,i)-t,o>0?n=r:e=r;while(Math.abs(o)>po&&++a<mo);return r}function se(t,e,n,s){if(t===e&&n===s)return $;const i=o=>go(o,0,1,t,n);return o=>o===0||o===1?o:Ei(i(o),e,s)}const Ri=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Li=t=>e=>1-t(1-e),ki=se(.33,1.53,.69,.99),Rn=Li(ki),ji=Ri(Rn),Fi=t=>(t*=2)<1?.5*Rn(t):.5*(2-Math.pow(2,-10*(t-1))),Ln=t=>1-Math.sin(Math.acos(t)),Ii=Li(Ln),Bi=Ri(Ln),yo=se(.42,0,1,1),vo=se(0,0,.58,1),Oi=se(.42,0,.58,1),xo=t=>Array.isArray(t)&&typeof t[0]!="number",Ni=t=>Array.isArray(t)&&typeof t[0]=="number",To={linear:$,easeIn:yo,easeInOut:Oi,easeOut:vo,circIn:Ln,circInOut:Bi,circOut:Ii,backIn:Rn,backInOut:ji,backOut:ki,anticipate:Fi},Co=t=>typeof t=="string",as=t=>{if(Ni(t)){Zt(t.length===4);const[e,n,s,i]=t;return se(e,n,s,i)}else if(Co(t))return To[t];return t},ue=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bo(t,e){let n=new Set,s=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){r.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,h=!1,f=!1)=>{const p=f&&i?n:s;return h&&r.add(c),p.has(c)||p.add(c),c},cancel:c=>{s.delete(c),r.delete(c)},process:c=>{if(a=c,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(l),n.clear(),i=!1,o&&(o=!1,u.process(c))}};return u}const wo=40;function Wi(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=ue.reduce((g,S)=>(g[S]=bo(o),g),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:f,render:d,postRender:p}=r,T=()=>{const g=ht.useManualTiming?i.timestamp:performance.now();n=!1,ht.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(g-i.timestamp,wo),1)),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),f.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(T))},v=()=>{n=!0,s=!0,i.isProcessing||t(T)};return{schedule:ue.reduce((g,S)=>{const b=r[S];return g[S]=(V,k=!1,P=!1)=>(n||v(),b.schedule(V,k,P)),g},{}),cancel:g=>{for(let S=0;S<ue.length;S++)r[ue[S]].cancel(g)},state:i,steps:r}}const{schedule:A,cancel:tt,state:N,steps:Oe}=Wi(typeof requestAnimationFrame<"u"?requestAnimationFrame:$,!0);let Te;function So(){Te=void 0}const _={now:()=>(Te===void 0&&_.set(N.isProcessing||ht.useManualTiming?N.timestamp:performance.now()),Te),set:t=>{Te=t,queueMicrotask(So)}},Ui=t=>e=>typeof e=="string"&&e.startsWith(t),kn=Ui("--"),Po=Ui("var(--"),jn=t=>Po(t)?Ao.test(t.split("/*")[0].trim()):!1,Ao=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qt={...Bt,transform:t=>lt(0,1,t)},he={...Bt,default:1},Ht=t=>Math.round(t*1e5)/1e5,Fn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mo(t){return t==null}const Vo=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,In=(t,e)=>n=>!!(typeof n=="string"&&Vo.test(n)&&n.startsWith(t)||e&&!Mo(n)&&Object.prototype.hasOwnProperty.call(n,e)),zi=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(Fn);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},Do=t=>lt(0,255,t),Ne={...Bt,transform:t=>Math.round(Do(t))},bt={test:In("rgb","red"),parse:zi("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ne.transform(t)+", "+Ne.transform(e)+", "+Ne.transform(n)+", "+Ht(qt.transform(s))+")"};function Eo(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const tn={test:In("#"),parse:Eo,transform:bt.transform},ie=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),dt=ie("deg"),at=ie("%"),w=ie("px"),Ro=ie("vh"),Lo=ie("vw"),ls={...at,parse:t=>at.parse(t)/100,transform:t=>at.transform(t*100)},Vt={test:In("hsl","hue"),parse:zi("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+at.transform(Ht(e))+", "+at.transform(Ht(n))+", "+Ht(qt.transform(s))+")"},F={test:t=>bt.test(t)||tn.test(t)||Vt.test(t),parse:t=>bt.test(t)?bt.parse(t):Vt.test(t)?Vt.parse(t):tn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bt.transform(t):Vt.transform(t),getAnimatableNone:t=>{const e=F.parse(t);return e.alpha=0,F.transform(e)}},ko=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jo(t){return isNaN(t)&&typeof t=="string"&&(t.match(Fn)?.length||0)+(t.match(ko)?.length||0)>0}const Ki="number",Hi="color",Fo="var",Io="var(",cs="${}",Bo=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jt(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(Bo,l=>(F.test(l)?(s.color.push(o),i.push(Hi),n.push(F.parse(l))):l.startsWith(Io)?(s.var.push(o),i.push(Fo),n.push(l)):(s.number.push(o),i.push(Ki),n.push(parseFloat(l))),++o,cs)).split(cs);return{values:n,split:a,indexes:s,types:i}}function _i(t){return Jt(t).values}function $i(t){const{split:e,types:n}=Jt(t),s=e.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=e[r],i[r]!==void 0){const a=n[r];a===Ki?o+=Ht(i[r]):a===Hi?o+=F.transform(i[r]):o+=i[r]}return o}}const Oo=t=>typeof t=="number"?0:F.test(t)?F.getAnimatableNone(t):t;function No(t){const e=_i(t);return $i(t)(e.map(Oo))}const pt={test:jo,parse:_i,createTransformer:$i,getAnimatableNone:No};function We(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Wo({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,o=0,r=0;if(!e)i=o=r=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=We(l,a,t+1/3),o=We(l,a,t),r=We(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function Me(t,e){return n=>n>0?e:t}const R=(t,e,n)=>t+(e-t)*n,Ue=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},Uo=[tn,bt,Vt],zo=t=>Uo.find(e=>e.test(t));function us(t){const e=zo(t);if(!e)return!1;let n=e.parse(t);return e===Vt&&(n=Wo(n)),n}const hs=(t,e)=>{const n=us(t),s=us(e);if(!n||!s)return Me(t,e);const i={...n};return o=>(i.red=Ue(n.red,s.red,o),i.green=Ue(n.green,s.green,o),i.blue=Ue(n.blue,s.blue,o),i.alpha=R(n.alpha,s.alpha,o),bt.transform(i))},en=new Set(["none","hidden"]);function Ko(t,e){return en.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ho(t,e){return n=>R(t,e,n)}function Bn(t){return typeof t=="number"?Ho:typeof t=="string"?jn(t)?Me:F.test(t)?hs:Yo:Array.isArray(t)?Yi:typeof t=="object"?F.test(t)?hs:_o:Me}function Yi(t,e){const n=[...t],s=n.length,i=t.map((o,r)=>Bn(o)(o,e[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function _o(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Bn(t[i])(t[i],e[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function $o(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],r=t.indexes[o][s[o]],a=t.values[r]??0;n[i]=a,s[o]++}return n}const Yo=(t,e)=>{const n=pt.createTransformer(e),s=Jt(t),i=Jt(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?en.has(t)&&!i.values.length||en.has(e)&&!s.values.length?Ko(t,e):ne(Yi($o(s,i),i.values),n):Me(t,e)};function Gi(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?R(t,e,n):Bn(t)(t,e)}const Go=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>A.update(e,n),stop:()=>tt(e),now:()=>N.isProcessing?N.timestamp:_.now()}},Xi=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)s+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ve=2e4;function On(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ve;)e+=n,s=t.next(e);return e>=Ve?1/0:e}function Xo(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(On(s),Ve);return{type:"keyframes",ease:o=>s.next(i*o).value/e,duration:Q(i)}}const Zo=5;function Zi(t,e,n){const s=Math.max(e-Zo,0);return En(n-t(s),e-s)}const L={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ze=.001;function qo({duration:t=L.duration,bounce:e=L.bounce,velocity:n=L.velocity,mass:s=L.mass}){let i,o,r=1-e;r=lt(L.minDamping,L.maxDamping,r),t=lt(L.minDuration,L.maxDuration,Q(t)),r<1?(i=u=>{const c=u*r,h=c*t,f=c-n,d=nn(u,r),p=Math.exp(-h);return ze-f/d*p},o=u=>{const h=u*r*t,f=h*n+n,d=Math.pow(r,2)*Math.pow(u,2)*t,p=Math.exp(-h),T=nn(Math.pow(u,2),r);return(-i(u)+ze>0?-1:1)*((f-d)*p)/T}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-ze+c*h},o=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=Qo(i,o,a);if(t=ot(t),isNaN(l))return{stiffness:L.stiffness,damping:L.damping,duration:t};{const u=Math.pow(l,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:t}}}const Jo=12;function Qo(t,e,n){let s=n;for(let i=1;i<Jo;i++)s=s-t(s)/e(s);return s}function nn(t,e){return t*Math.sqrt(1-e*e)}const ta=["duration","bounce"],ea=["stiffness","damping","mass"];function fs(t,e){return e.some(n=>t[n]!==void 0)}function na(t){let e={velocity:L.velocity,stiffness:L.stiffness,damping:L.damping,mass:L.mass,isResolvedFromDuration:!1,...t};if(!fs(t,ea)&&fs(t,ta))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*lt(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:L.mass,stiffness:i,damping:o}}else{const n=qo(t);e={...e,...n,mass:L.mass},e.isResolvedFromDuration=!0}return e}function De(t=L.visualDuration,e=L.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:d}=na({...n,velocity:-Q(n.velocity||0)}),p=f||0,T=u/(2*Math.sqrt(l*c)),v=r-o,m=Q(Math.sqrt(l/c)),C=Math.abs(v)<5;s||(s=C?L.restSpeed.granular:L.restSpeed.default),i||(i=C?L.restDelta.granular:L.restDelta.default);let g;if(T<1){const b=nn(m,T);g=V=>{const k=Math.exp(-T*m*V);return r-k*((p+T*m*v)/b*Math.sin(b*V)+v*Math.cos(b*V))}}else if(T===1)g=b=>r-Math.exp(-m*b)*(v+(p+m*v)*b);else{const b=m*Math.sqrt(T*T-1);g=V=>{const k=Math.exp(-T*m*V),P=Math.min(b*V,300);return r-k*((p+T*m*v)*Math.sinh(P)+b*v*Math.cosh(P))/b}}const S={calculatedDuration:d&&h||null,next:b=>{const V=g(b);if(d)a.done=b>=h;else{let k=b===0?p:0;T<1&&(k=b===0?ot(p):Zi(g,b,V));const P=Math.abs(k)<=s,I=Math.abs(r-V)<=i;a.done=P&&I}return a.value=a.done?r:V,a},toString:()=>{const b=Math.min(On(S),Ve),V=Xi(k=>S.next(b*k).value,b,30);return b+"ms "+V},toTransition:()=>{}};return S}De.applyToOptions=t=>{const e=Xo(t,100,De);return t.ease=e.ease,t.duration=ot(e.duration),t.type="keyframes",t};function sn({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},d=P=>a!==void 0&&P<a||l!==void 0&&P>l,p=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let T=n*e;const v=h+T,m=r===void 0?v:r(v);m!==v&&(T=m-h);const C=P=>-T*Math.exp(-P/s),g=P=>m+C(P),S=P=>{const I=C(P),H=g(P);f.done=Math.abs(I)<=u,f.value=f.done?m:H};let b,V;const k=P=>{d(f.value)&&(b=P,V=De({keyframes:[f.value,p(f.value)],velocity:Zi(g,P,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:P=>{let I=!1;return!V&&b===void 0&&(I=!0,S(P),k(P)),b!==void 0&&P>=b?V.next(P-b):(!I&&S(P),f)}}}function sa(t,e,n){const s=[],i=n||ht.mix||Gi,o=t.length-1;for(let r=0;r<o;r++){let a=i(t[r],t[r+1]);if(e){const l=Array.isArray(e)?e[r]||$:e;a=ne(l,a)}s.push(a)}return s}function Nn(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(Zt(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=sa(e,s,i),l=a.length,u=c=>{if(r&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=Ft(t[h],t[h+1],c);return a[h](f)};return n?c=>u(lt(t[0],t[o-1],c)):u}function ia(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=Ft(0,e,s);t.push(R(n,1,i))}}function qi(t){const e=[0];return ia(e,t.length-1),e}function ra(t,e){return t.map(n=>n*e)}function oa(t,e){return t.map(()=>e||Oi).splice(0,t.length-1)}function _t({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=xo(s)?s.map(as):as(s),o={done:!1,value:e[0]},r=ra(n&&n.length===e.length?n:qi(e),t),a=Nn(r,e,{ease:Array.isArray(i)?i:oa(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const aa=t=>t!==null;function Wn(t,{repeat:e,repeatType:n="loop"},s,i=1){const o=t.filter(aa),a=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||s===void 0?o[a]:s}const la={decay:sn,inertia:sn,tween:_t,keyframes:_t,spring:De};function Ji(t){typeof t.type=="string"&&(t.type=la[t.type])}class Un{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ca=t=>t/100;class zn extends Un{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_.now()&&this.tick(_.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ji(e);const{type:n=_t,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=e;let{keyframes:a}=e;const l=n||_t;l!==_t&&typeof a[0]!="number"&&(this.mixKeyframes=ne(ca,Gi(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=On(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:f,repeatDelay:d,type:p,onUpdate:T,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?m<0:m>i;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let g=this.currentTime,S=s;if(h){const P=Math.min(this.currentTime,i)/a;let I=Math.floor(P),H=P%1;!H&&P>=1&&(H=1),H===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(H=1-H,d&&(H-=d/a)):f==="mirror"&&(S=r)),g=lt(0,1,H)*a}const b=C?{done:!1,value:c[0]}:S.next(g);o&&(b.value=o(b.value));let{done:V}=b;!C&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return k&&p!==sn&&(b.value=Wn(c,this.options,v,this.speed)),T&&T(b.value),k&&this.finish(),b}then(e,n){return this.finished.then(e,n)}get duration(){return Q(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Q(e)}get time(){return Q(this.currentTime)}set time(e){e=ot(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Q(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Go,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ua(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wt=t=>t*180/Math.PI,rn=t=>{const e=wt(Math.atan2(t[1],t[0]));return on(e)},ha={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rn,rotateZ:rn,skewX:t=>wt(Math.atan(t[1])),skewY:t=>wt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},on=t=>(t=t%360,t<0&&(t+=360),t),ds=rn,ps=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ms=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fa={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ps,scaleY:ms,scale:t=>(ps(t)+ms(t))/2,rotateX:t=>on(wt(Math.atan2(t[6],t[5]))),rotateY:t=>on(wt(Math.atan2(-t[2],t[0]))),rotateZ:ds,rotate:ds,skewX:t=>wt(Math.atan(t[4])),skewY:t=>wt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function an(t){return t.includes("scale")?1:0}function ln(t,e){if(!t||t==="none")return an(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=fa,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ha,i=a}if(!i)return an(e);const o=s[e],r=i[1].split(",").map(pa);return typeof o=="function"?o(r):r[o]}const da=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ln(n,e)};function pa(t){return parseFloat(t.trim())}const Ot=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nt=new Set(Ot),gs=t=>t===Bt||t===w,ma=new Set(["x","y","z"]),ga=Ot.filter(t=>!ma.has(t));function ya(t){const e=[];return ga.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const St={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ln(e,"x"),y:(t,{transform:e})=>ln(e,"y")};St.translateX=St.x;St.translateY=St.y;const Pt=new Set;let cn=!1,un=!1,hn=!1;function Qi(){if(un){const t=Array.from(Pt).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=ya(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{s.getValue(o)?.set(r)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}un=!1,cn=!1,Pt.forEach(t=>t.complete(hn)),Pt.clear()}function tr(){Pt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(un=!0)})}function va(){hn=!0,tr(),Qi(),hn=!1}class Kn{constructor(e,n,s,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Pt.add(this),cn||(cn=!0,A.read(tr),A.resolveKeyframes(Qi))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const o=i?.get(),r=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const a=s.readValue(n,r);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=r),i&&o===void 0&&i.set(e[0])}ua(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pt.delete(this)}cancel(){this.state==="scheduled"&&(Pt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xa=t=>t.startsWith("--");function Ta(t,e,n){xa(e)?t.style.setProperty(e,n):t.style[e]=n}const er=Vn(()=>window.ScrollTimeline!==void 0),Ca={};function ba(t,e){const n=Vn(t);return()=>Ca[e]??n()}const nr=ba(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kt=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ys={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kt([0,.65,.55,1]),circOut:Kt([.55,0,1,.45]),backIn:Kt([.31,.01,.66,-.59]),backOut:Kt([.33,1.53,.69,.99])};function sr(t,e){if(t)return typeof t=="function"?nr()?Xi(t,e):"ease-out":Ni(t)?Kt(t):Array.isArray(t)?t.map(n=>sr(n,e)||ys.easeOut):ys[t]}function wa(t,e,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const h=sr(a,i);Array.isArray(h)&&(c.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function ir(t){return typeof t=="function"&&"applyToOptions"in t}function Sa({type:t,...e}){return ir(t)&&nr()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Pa extends Un{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=e,Zt(typeof e.type!="string");const u=Sa(e);this.animation=wa(n,s,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const c=Wn(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Ta(n,s,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Q(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Q(e)}get time(){return Q(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ot(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&er()?(this.animation.timeline=e,$):n(this)}}const rr={anticipate:Fi,backInOut:ji,circInOut:Bi};function Aa(t){return t in rr}function Ma(t){typeof t.ease=="string"&&Aa(t.ease)&&(t.ease=rr[t.ease])}const vs=10;class Va extends Pa{constructor(e){Ma(e),Ji(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...r}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new zn({...r,autoplay:!1}),l=ot(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-vs).value,a.sample(l).value,vs),a.stop()}}const xs=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pt.test(t)||t==="0")&&!t.startsWith("url("));function Da(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ea(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],r=xs(i,e),a=xs(o,e);return!r||!a?!1:Da(t)||(n==="spring"||ir(n))&&s}function fn(t){t.duration=0,t.type="keyframes"}const Ra=new Set(["opacity","clipPath","filter","transform"]),La=Vn(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ka(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:o,type:r}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return La()&&n&&Ra.has(n)&&(n!=="transform"||!u)&&!l&&!s&&i!=="mirror"&&o!==0&&r!=="inertia"}const ja=40;class Fa extends Un{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_.now();const f={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,name:l,motionValue:u,element:c,...h},d=c?.KeyframeResolver||Kn;this.keyframeResolver=new d(a,(p,T,v)=>this.onKeyframesResolved(p,T,f,!v),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:l,isHandoff:u,onUpdate:c}=s;this.resolvedAt=_.now(),Ea(e,o,r,a)||((ht.instantAnimations||!l)&&c?.(Wn(e,s,n)),e[0]=e[e.length-1],fn(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ja?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},d=!u&&ka(f)?new Va({...f,element:f.motionValue.owner.current}):new zn(f);d.finished.then(()=>this.notifyFinished()).catch($),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),va()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Ia=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ba(t){const e=Ia.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function or(t,e,n=1){const[s,i]=Ba(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const r=o.trim();return Mi(r)?parseFloat(r):r}return jn(i)?or(i,e,n+1):i}function Hn(t,e){return t?.[e]??t?.default??t}const ar=new Set(["width","height","top","left","right","bottom",...Ot]),Oa={test:t=>t==="auto",parse:t=>t},lr=t=>e=>e.test(t),cr=[Bt,w,at,dt,Lo,Ro,Oa],Ts=t=>cr.find(lr(t));function Na(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Di(t):!0}const Wa=new Set(["brightness","contrast","saturate","opacity"]);function Ua(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Fn)||[];if(!s)return t;const i=n.replace(s,"");let o=Wa.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+i+")"}const za=/\b([a-z-]*)\(.*?\)/gu,dn={...pt,getAnimatableNone:t=>{const e=t.match(za);return e?e.map(Ua).join(" "):t}},Cs={...Bt,transform:Math.round},Ka={rotate:dt,rotateX:dt,rotateY:dt,rotateZ:dt,scale:he,scaleX:he,scaleY:he,scaleZ:he,skew:dt,skewX:dt,skewY:dt,distance:w,translateX:w,translateY:w,translateZ:w,x:w,y:w,z:w,perspective:w,transformPerspective:w,opacity:qt,originX:ls,originY:ls,originZ:w},_n={borderWidth:w,borderTopWidth:w,borderRightWidth:w,borderBottomWidth:w,borderLeftWidth:w,borderRadius:w,radius:w,borderTopLeftRadius:w,borderTopRightRadius:w,borderBottomRightRadius:w,borderBottomLeftRadius:w,width:w,maxWidth:w,height:w,maxHeight:w,top:w,right:w,bottom:w,left:w,padding:w,paddingTop:w,paddingRight:w,paddingBottom:w,paddingLeft:w,margin:w,marginTop:w,marginRight:w,marginBottom:w,marginLeft:w,backgroundPositionX:w,backgroundPositionY:w,...Ka,zIndex:Cs,fillOpacity:qt,strokeOpacity:qt,numOctaves:Cs},Ha={..._n,color:F,backgroundColor:F,outlineColor:F,fill:F,stroke:F,borderColor:F,borderTopColor:F,borderRightColor:F,borderBottomColor:F,borderLeftColor:F,filter:dn,WebkitFilter:dn},ur=t=>Ha[t];function hr(t,e){let n=ur(t);return n!==dn&&(n=pt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _a=new Set(["auto","none","0"]);function $a(t,e,n){let s=0,i;for(;s<t.length&&!i;){const o=t[s];typeof o=="string"&&!_a.has(o)&&Jt(o).values.length&&(i=t[s]),s++}if(i&&n)for(const o of e)t[o]=hr(n,i)}class Ya extends Kn{constructor(e,n,s,i,o){super(e,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),jn(u))){const c=or(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ar.has(s)||e.length!==2)return;const[i,o]=e,r=Ts(i),a=Ts(o);if(r!==a)if(gs(r)&&gs(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else St[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||Na(e[i]))&&s.push(i);s.length&&$a(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=St[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=St[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function fr(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const dr=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pr(t){return Vi(t)&&"offsetHeight"in t}const bs=30,Ga=t=>!isNaN(parseFloat(t)),$t={current:void 0};class Xa{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=_.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ga(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dn);const s=this.events[e].add(n);return e==="change"?()=>{s(),A.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return $t.current&&$t.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=_.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bs);return En(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function it(t,e){return new Xa(t,e)}const{schedule:$n}=Wi(queueMicrotask,!1),st={x:!1,y:!1};function mr(){return st.x||st.y}function Za(t){return t==="x"||t==="y"?st[t]?null:(st[t]=!0,()=>{st[t]=!1}):st.x||st.y?null:(st.x=st.y=!0,()=>{st.x=st.y=!1})}function gr(t,e){const n=fr(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function ws(t){return!(t.pointerType==="touch"||mr())}function qa(t,e,n={}){const[s,i,o]=gr(t,n),r=a=>{if(!ws(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{ws(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return s.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const yr=(t,e)=>e?t===e?!0:yr(t,e.parentElement):!1,Yn=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ja=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qa(t){return Ja.has(t.tagName)||t.tabIndex!==-1}const Ce=new WeakSet;function Ss(t){return e=>{e.key==="Enter"&&t(e)}}function Ke(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tl=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Ss(()=>{if(Ce.has(n))return;Ke(n,"down");const i=Ss(()=>{Ke(n,"up")}),o=()=>Ke(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ps(t){return Yn(t)&&!mr()}function el(t,e,n={}){const[s,i,o]=gr(t,n),r=a=>{const l=a.currentTarget;if(!Ps(a))return;Ce.add(l);const u=e(l,a),c=(d,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ce.has(l)&&Ce.delete(l),Ps(d)&&typeof u=="function"&&u(d,{success:p})},h=d=>{c(d,l===window||l===document||n.useGlobalTarget||yr(l,d.target))},f=d=>{c(d,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),pr(a)&&(a.addEventListener("focus",u=>tl(u,i)),!Qa(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function Gn(t){return Vi(t)&&"ownerSVGElement"in t}const be=new WeakMap;let we;const vr=(t,e,n)=>(s,i)=>i&&i[0]?i[0][t+"Size"]:Gn(s)&&"getBBox"in s?s.getBBox()[e]:s[n],nl=vr("inline","width","offsetWidth"),sl=vr("block","height","offsetHeight");function il({target:t,borderBoxSize:e}){be.get(t)?.forEach(n=>{n(t,{get width(){return nl(t,e)},get height(){return sl(t,e)}})})}function rl(t){t.forEach(il)}function ol(){typeof ResizeObserver>"u"||(we=new ResizeObserver(rl))}function al(t,e){we||ol();const n=fr(t);return n.forEach(s=>{let i=be.get(s);i||(i=new Set,be.set(s,i)),i.add(e),we?.observe(s)}),()=>{n.forEach(s=>{const i=be.get(s);i?.delete(e),i?.size||we?.unobserve(s)})}}const Se=new Set;let Dt;function ll(){Dt=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Se.forEach(e=>e(t))},window.addEventListener("resize",Dt)}function cl(t){return Se.add(t),Dt||ll(),()=>{Se.delete(t),!Se.size&&typeof Dt=="function"&&(window.removeEventListener("resize",Dt),Dt=void 0)}}function ul(t,e){return typeof t=="function"?cl(t):al(t,e)}function xr(t,e){let n;const s=()=>{const{currentTime:i}=e,r=(i===null?0:i.value)/100;n!==r&&t(r),n=r};return A.preUpdate(s,!0),()=>tt(s)}function hl(t){return Gn(t)&&t.tagName==="svg"}function fl(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],i=t[1+n],o=t[2+n],r=t[3+n],a=Nn(i,o,r);return e?a(s):a}const U=t=>!!(t&&t.getVelocity),dl=[...cr,F,pt],pl=t=>dl.find(lr(t)),ke=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ml(t=!0){const e=x.useContext(Pn);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,o=x.useId();x.useEffect(()=>{if(t)return i(o)},[t]);const r=x.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,r]:[!0]}const Tr=x.createContext({strict:!1}),As={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},It={};for(const t in As)It[t]={isEnabled:e=>As[t].some(n=>!!e[n])};function gl(t){for(const e in t)It[e]={...It[e],...t[e]}}const yl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ee(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yl.has(t)}let Cr=t=>!Ee(t);function vl(t){typeof t=="function"&&(Cr=e=>e.startsWith("on")?!Ee(e):t(e))}try{vl(require("@emotion/is-prop-valid").default)}catch{}function xl(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(Cr(i)||n===!0&&Ee(i)||!e&&!Ee(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const je=x.createContext({});function Fe(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qt(t){return typeof t=="string"||Array.isArray(t)}const Xn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zn=["initial",...Xn];function Ie(t){return Fe(t.animate)||Zn.some(e=>Qt(t[e]))}function br(t){return!!(Ie(t)||t.variants)}function Tl(t,e){if(Ie(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Qt(n)?n:void 0,animate:Qt(s)?s:void 0}}return t.inherit!==!1?e:{}}function Cl(t){const{initial:e,animate:n}=Tl(t,x.useContext(je));return x.useMemo(()=>({initial:e,animate:n}),[Ms(e),Ms(n)])}function Ms(t){return Array.isArray(t)?t.join(" "):t}const te={};function bl(t){for(const e in t)te[e]=t[e],kn(e)&&(te[e].isCSSVariable=!0)}function wr(t,{layout:e,layoutId:n}){return Nt.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!te[t]||t==="opacity")}const wl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sl=Ot.length;function Pl(t,e,n){let s="",i=!0;for(let o=0;o<Sl;o++){const r=Ot[o],a=t[r];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(r.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=dr(a,_n[r]);if(!l){i=!1;const c=wl[r]||r;s+=`${c}(${u}) `}n&&(e[r]=u)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function qn(t,e,n){const{style:s,vars:i,transformOrigin:o}=t;let r=!1,a=!1;for(const l in e){const u=e[l];if(Nt.has(l)){r=!0;continue}else if(kn(l)){i[l]=u;continue}else{const c=dr(u,_n[l]);l.startsWith("origin")?(a=!0,o[l]=c):s[l]=c}}if(e.transform||(r||n?s.transform=Pl(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;s.transformOrigin=`${l} ${u} ${c}`}}const Jn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sr(t,e,n){for(const s in e)!U(e[s])&&!wr(s,n)&&(t[s]=e[s])}function Al({transformTemplate:t},e){return x.useMemo(()=>{const n=Jn();return qn(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Ml(t,e){const n=t.style||{},s={};return Sr(s,n,t),Object.assign(s,Al(t,e)),s}function Vl(t,e){const n={},s=Ml(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Dl={offset:"stroke-dashoffset",array:"stroke-dasharray"},El={offset:"strokeDashoffset",array:"strokeDasharray"};function Rl(t,e,n=1,s=0,i=!0){t.pathLength=1;const o=i?Dl:El;t[o.offset]=w.transform(-s);const r=w.transform(e),a=w.transform(n);t[o.array]=`${r} ${a}`}function Pr(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},l,u,c){if(qn(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=c?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&Rl(h,i,o,r,!1)}const Ar=()=>({...Jn(),attrs:{}}),Mr=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ll(t,e,n,s){const i=x.useMemo(()=>{const o=Ar();return Pr(o,e,Mr(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Sr(o,t.style,t),i.style={...o,...i.style}}return i}const kl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qn(t){return typeof t!="string"||t.includes("-")?!1:!!(kl.indexOf(t)>-1||/[A-Z]/u.test(t))}function jl(t,e,n,{latestValues:s},i,o=!1){const a=(Qn(t)?Ll:Vl)(e,s,i,t),l=xl(e,typeof t=="string",o),u=t!==x.Fragment?{...l,...a,ref:n}:{},{children:c}=e,h=x.useMemo(()=>U(c)?c.get():c,[c]);return x.createElement(t,{...u,children:h})}function Vs(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function ts(t,e,n,s){if(typeof e=="function"){const[i,o]=Vs(s);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Vs(s);e=e(n!==void 0?n:t.custom,i,o)}return e}function Pe(t){return U(t)?t.get():t}function Fl({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:Il(n,s,i,t),renderState:e()}}function Il(t,e,n,s){const i={},o=s(t,{});for(const f in o)i[f]=Pe(o[f]);let{initial:r,animate:a}=t;const l=Ie(t),u=br(t);e&&u&&!l&&t.inherit!==!1&&(r===void 0&&(r=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||r===!1;const h=c?a:r;if(h&&typeof h!="boolean"&&!Fe(h)){const f=Array.isArray(h)?h:[h];for(let d=0;d<f.length;d++){const p=ts(t,f[d]);if(p){const{transitionEnd:T,transition:v,...m}=p;for(const C in m){let g=m[C];if(Array.isArray(g)){const S=c?g.length-1:0;g=g[S]}g!==null&&(i[C]=g)}for(const C in T)i[C]=T[C]}}}return i}const Vr=t=>(e,n)=>{const s=x.useContext(je),i=x.useContext(Pn),o=()=>Fl(t,e,s,i);return n?o():Le(o)};function es(t,e,n){const{style:s}=t,i={};for(const o in s)(U(s[o])||e.style&&U(e.style[o])||wr(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=s[o]);return i}const Bl=Vr({scrapeMotionValuesFromProps:es,createRenderState:Jn});function Dr(t,e,n){const s=es(t,e,n);for(const i in t)if(U(t[i])||U(e[i])){const o=Ot.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=t[i]}return s}const Ol=Vr({scrapeMotionValuesFromProps:Dr,createRenderState:Ar}),Nl=Symbol.for("motionComponentSymbol");function Et(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Wl(t,e,n){return x.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Et(n)&&(n.current=s))},[e])}const ns=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ul="framerAppearId",Er="data-"+ns(Ul),Rr=x.createContext({});function zl(t,e,n,s,i){const{visualElement:o}=x.useContext(je),r=x.useContext(Tr),a=x.useContext(Pn),l=x.useContext(ke).reducedMotion,u=x.useRef(null);s=s||r.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=x.useContext(Rr);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&Kl(u.current,n,i,h);const f=x.useRef(!1);x.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const d=n[Er],p=x.useRef(!!d&&!window.MotionHandoffIsComplete?.(d)&&window.MotionHasOptimisedAnimation?.(d));return Sn(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(d)}),p.current=!1),c.enteringChildren=void 0)}),c}function Kl(t,e,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Lr(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&Et(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:l,layoutRoot:u})}function Lr(t){if(t)return t.options.allowProjection!==!1?t.projection:Lr(t.parent)}function He(t,{forwardMotionProps:e=!1}={},n,s){n&&gl(n);const i=Qn(t)?Ol:Bl;function o(a,l){let u;const c={...x.useContext(ke),...a,layoutId:Hl(a)},{isStatic:h}=c,f=Cl(a),d=i(a,h);if(!h&&wn){_l();const p=$l(c);u=p.MeasureLayout,f.visualElement=zl(t,d,c,s,p.ProjectionNode)}return y.jsxs(je.Provider,{value:f,children:[u&&f.visualElement?y.jsx(u,{visualElement:f.visualElement,...c}):null,jl(t,a,Wl(d,f.visualElement,l),d,h,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const r=x.forwardRef(o);return r[Nl]=t,r}function Hl({layoutId:t}){const e=x.useContext(Ai).id;return e&&t!==void 0?e+"-"+t:t}function _l(t,e){x.useContext(Tr).strict}function $l(t){const{drag:e,layout:n}=It;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Yl(t,e){if(typeof Proxy>"u")return He;const n=new Map,s=(o,r)=>He(o,r,t,e),i=(o,r)=>s(o,r);return new Proxy(i,{get:(o,r)=>r==="create"?s:(n.has(r)||n.set(r,He(r,void 0,t,e)),n.get(r))})}function kr({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Gl({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Xl(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _e(t){return t===void 0||t===1}function pn({scale:t,scaleX:e,scaleY:n}){return!_e(t)||!_e(e)||!_e(n)}function Tt(t){return pn(t)||jr(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jr(t){return Ds(t.x)||Ds(t.y)}function Ds(t){return t&&t!=="0%"}function Re(t,e,n){const s=t-n,i=e*s;return n+i}function Es(t,e,n,s,i){return i!==void 0&&(t=Re(t,i,s)),Re(t,n,s)+e}function mn(t,e=0,n=1,s,i){t.min=Es(t.min,e,n,s,i),t.max=Es(t.max,e,n,s,i)}function Fr(t,{x:e,y:n}){mn(t.x,e.translate,e.scale,e.originPoint),mn(t.y,n.translate,n.scale,n.originPoint)}const Rs=.999999999999,Ls=1.0000000000001;function Zl(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Lt(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,Fr(t,r)),s&&Tt(o.latestValues)&&Lt(t,o.latestValues))}e.x<Ls&&e.x>Rs&&(e.x=1),e.y<Ls&&e.y>Rs&&(e.y=1)}function Rt(t,e){t.min=t.min+e,t.max=t.max+e}function ks(t,e,n,s,i=.5){const o=R(t.min,t.max,i);mn(t,e,n,o,s)}function Lt(t,e){ks(t.x,e.x,e.scaleX,e.scale,e.originX),ks(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ir(t,e){return kr(Xl(t.getBoundingClientRect(),e))}function ql(t,e,n){const s=Ir(t,n),{scroll:i}=e;return i&&(Rt(s.x,i.offset.x),Rt(s.y,i.offset.y)),s}const js=()=>({translate:0,scale:1,origin:0,originPoint:0}),kt=()=>({x:js(),y:js()}),Fs=()=>({min:0,max:0}),j=()=>({x:Fs(),y:Fs()}),gn={current:null},Br={current:!1};function Jl(){if(Br.current=!0,!!wn)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gn.current=t.matches;t.addEventListener("change",e),e()}else gn.current=!1}const Ql=new WeakMap;function tc(t,e,n){for(const s in e){const i=e[s],o=n[s];if(U(i))t.addValue(s,i);else if(U(o))t.addValue(s,it(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const r=t.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=t.getStaticValue(s);t.addValue(s,it(r!==void 0?r:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Is=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ec{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=_.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,A.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Ie(n),this.isVariantNode=br(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const d=h[f];l[f]!==void 0&&U(d)&&d.set(l[f])}}mount(e){this.current=e,Ql.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Br.current||Jl(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gn.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tt(this.notifyUpdate),tt(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Nt.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&A.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in It){const n=It[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):j()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Is.length;s++){const i=Is[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=e[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=tc(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=it(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Mi(s)||Di(s))?s=parseFloat(s):!pl(s)&&pt.test(n)&&(s=hr(e,n)),this.setBaseTarget(e,U(s)?s.get():s)),U(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=ts(this.props,n,this.presenceContext?.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!U(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dn),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$n.render(this.render)}}class Or extends ec{constructor(){super(...arguments),this.KeyframeResolver=Ya}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;U(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Nr(t,{style:e,vars:n},s,i){const o=t.style;let r;for(r in e)o[r]=e[r];i?.applyProjectionStyles(o,s);for(r in n)o.setProperty(r,n[r])}function nc(t){return window.getComputedStyle(t)}class sc extends Or{constructor(){super(...arguments),this.type="html",this.renderInstance=Nr}readValueFromInstance(e,n){if(Nt.has(n))return this.projection?.isProjecting?an(n):da(e,n);{const s=nc(e),i=(kn(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ir(e,n)}build(e,n,s){qn(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return es(e,n,s)}}const Wr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ic(t,e,n,s){Nr(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Wr.has(i)?i:ns(i),e.attrs[i])}class rc extends Or{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=j}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Nt.has(n)){const s=ur(n);return s&&s.default||0}return n=Wr.has(n)?n:ns(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Dr(e,n,s)}build(e,n,s){Pr(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){ic(e,n,s,i)}mount(e){this.isSVGTag=Mr(e.tagName),super.mount(e)}}const oc=(t,e)=>Qn(t)?new rc(e):new sc(e,{allowProjection:t!==x.Fragment});function jt(t,e,n){const s=t.getProps();return ts(s,e,n!==void 0?n:s.custom,t)}const yn=t=>Array.isArray(t);function ac(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,it(n))}function lc(t){return yn(t)?t[t.length-1]||0:t}function cc(t,e){const n=jt(t,e);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=lc(o[r]);ac(t,r,a)}}function uc(t){return!!(U(t)&&t.add)}function vn(t,e){const n=t.getValue("willChange");if(uc(n))return n.add(e);if(!n&&ht.WillChange){const s=new ht.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Ur(t){return t.props[Er]}const hc=t=>t!==null;function fc(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(hc),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const dc={type:"spring",stiffness:500,damping:25,restSpeed:10},pc=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mc={type:"keyframes",duration:.8},gc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yc=(t,{keyframes:e})=>e.length>2?mc:Nt.has(t)?t.startsWith("scale")?pc(e[1]):dc:gc;function vc({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const ss=(t,e,n,s={},i,o)=>r=>{const a=Hn(s,t)||{},l=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-ot(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};vc(a)||Object.assign(c,yc(t,c)),c.duration&&(c.duration=ot(c.duration)),c.repeatDelay&&(c.repeatDelay=ot(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(fn(c),c.delay===0&&(h=!0)),(ht.instantAnimations||ht.skipAnimations)&&(h=!0,fn(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!o&&e.get()!==void 0){const f=fc(c.keyframes,a);if(f!==void 0){A.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new zn(c):new Fa(c)};function xc({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function zr(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:r,...a}=e;s&&(o=s);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&xc(u,c))continue;const d={delay:n,...Hn(o||{},c)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!d.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const m=Ur(t);if(m){const C=window.MotionHandoffAnimation(m,c,A);C!==null&&(d.startTime=C,T=!0)}}vn(t,c),h.start(ss(c,h,f,t.shouldReduceMotion&&ar.has(c)?{type:!1}:d,t,T));const v=h.animation;v&&l.push(v)}return r&&Promise.all(l).then(()=>{A.update(()=>{r&&cc(t,r)})}),l}function Kr(t,e,n,s=0,i=1){const o=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),r=t.size,a=(r-1)*s;return typeof n=="function"?n(o,r):i===1?o*s:a-o*s}function xn(t,e,n={}){const s=jt(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(zr(t,s,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return Tc(t,e,l,u,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,r]:[r,o];return l().then(()=>u())}else return Promise.all([o(),r(n.delay)])}function Tc(t,e,n=0,s=0,i=0,o=1,r){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(xn(l,e,{...r,delay:n+(typeof s=="function"?0:s)+Kr(t.variantChildren,l,s,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function Cc(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(o=>xn(t,o,n));s=Promise.all(i)}else if(typeof e=="string")s=xn(t,e,n);else{const i=typeof e=="function"?jt(t,e,n.custom):e;s=Promise.all(zr(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Hr(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const bc=Zn.length;function _r(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_r(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bc;n++){const s=Zn[n],i=t.props[s];(Qt(i)||i===!1)&&(e[s]=i)}return e}const wc=[...Xn].reverse(),Sc=Xn.length;function Pc(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Cc(t,n,s)))}function Ac(t){let e=Pc(t),n=Bs(),s=!0;const i=l=>(u,c)=>{const h=jt(t,c,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:d,...p}=h;u={...u,...p,...d}}return u};function o(l){e=l(t)}function r(l){const{props:u}=t,c=_r(t.parent)||{},h=[],f=new Set;let d={},p=1/0;for(let v=0;v<Sc;v++){const m=wc[v],C=n[m],g=u[m]!==void 0?u[m]:c[m],S=Qt(g),b=m===l?C.isActive:null;b===!1&&(p=v);let V=g===c[m]&&g!==u[m]&&S;if(V&&s&&t.manuallyAnimateOnMount&&(V=!1),C.protectedKeys={...d},!C.isActive&&b===null||!g&&!C.prevProp||Fe(g)||typeof g=="boolean")continue;const k=Mc(C.prevProp,g);let P=k||m===l&&C.isActive&&!V&&S||v>p&&S,I=!1;const H=Array.isArray(g)?g:[g];let ct=H.reduce(i(m),{});b===!1&&(ct={});const{prevResolvedValues:oe={}}=C,gt={...oe,...ct},Wt=B=>{P=!0,f.has(B)&&(I=!0,f.delete(B)),C.needsAnimating[B]=!0;const D=t.getValue(B);D&&(D.liveStyle=!1)};for(const B in gt){const D=ct[B],M=oe[B];if(d.hasOwnProperty(B))continue;let E=!1;yn(D)&&yn(M)?E=!Hr(D,M):E=D!==M,E?D!=null?Wt(B):f.add(B):D!==void 0&&f.has(B)?Wt(B):C.protectedKeys[B]=!0}C.prevProp=g,C.prevResolvedValues=ct,C.isActive&&(d={...d,...ct}),s&&t.blockInitialAnimation&&(P=!1);const ae=V&&k;P&&(!ae||I)&&h.push(...H.map(B=>{const D={type:m};if(typeof B=="string"&&s&&!ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,E=jt(M,B);if(M.enteringChildren&&E){const{delayChildren:O}=E.transition||{};D.delay=Kr(M.enteringChildren,t,O)}}return{animation:B,options:D}}))}if(f.size){const v={};if(typeof u.initial!="boolean"){const m=jt(t,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(v.transition=m.transition)}f.forEach(m=>{const C=t.getBaseTarget(m),g=t.getValue(m);g&&(g.liveStyle=!0),v[m]=C??null}),h.push({animation:v})}let T=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(T=!1),s=!1,T?e(h):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,u)),n[l].isActive=u;const c=r(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Bs()}}}function Mc(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Hr(e,t):!1}function xt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bs(){return{animate:xt(!0),whileInView:xt(),whileHover:xt(),whileTap:xt(),whileDrag:xt(),whileFocus:xt(),exit:xt()}}class mt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Vc extends mt{constructor(e){super(e),e.animationState||(e.animationState=Ac(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fe(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Dc=0;class Ec extends mt{constructor(){super(...arguments),this.id=Dc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rc={animation:{Feature:Vc},exit:{Feature:Ec}};function ee(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function re(t){return{point:{x:t.pageX,y:t.pageY}}}const Lc=t=>e=>Yn(e)&&t(e,re(e));function Yt(t,e,n,s){return ee(t,e,Lc(n),s)}const $r=1e-4,kc=1-$r,jc=1+$r,Yr=.01,Fc=0-Yr,Ic=0+Yr;function K(t){return t.max-t.min}function Bc(t,e,n){return Math.abs(t-e)<=n}function Os(t,e,n,s=.5){t.origin=s,t.originPoint=R(e.min,e.max,t.origin),t.scale=K(n)/K(e),t.translate=R(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kc&&t.scale<=jc||isNaN(t.scale))&&(t.scale=1),(t.translate>=Fc&&t.translate<=Ic||isNaN(t.translate))&&(t.translate=0)}function Gt(t,e,n,s){Os(t.x,e.x,n.x,s?s.originX:void 0),Os(t.y,e.y,n.y,s?s.originY:void 0)}function Ns(t,e,n){t.min=n.min+e.min,t.max=t.min+K(e)}function Oc(t,e,n){Ns(t.x,e.x,n.x),Ns(t.y,e.y,n.y)}function Ws(t,e,n){t.min=e.min-n.min,t.max=t.min+K(e)}function Xt(t,e,n){Ws(t.x,e.x,n.x),Ws(t.y,e.y,n.y)}function J(t){return[t("x"),t("y")]}const Gr=({current:t})=>t?t.ownerDocument.defaultView:null,Us=(t,e)=>Math.abs(t-e);function Nc(t,e){const n=Us(t.x,e.x),s=Us(t.y,e.y);return Math.sqrt(n**2+s**2)}class Xr{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ye(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=Nc(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!p)return;const{point:T}=f,{timestamp:v}=N;this.history.push({...T,timestamp:v});const{onStart:m,onMove:C}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$e(d,this.transformPagePoint),A.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:T,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ye(f.type==="pointercancel"?this.lastMoveEventInfo:$e(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,m),T&&T(f,m)},!Yn(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const a=re(e),l=$e(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=N;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Ye(l,this.history)),this.removeListeners=ne(Yt(this.contextWindow,"pointermove",this.handlePointerMove),Yt(this.contextWindow,"pointerup",this.handlePointerUp),Yt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tt(this.updatePoint)}}function $e(t,e){return e?{point:e(t.point)}:t}function zs(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ye({point:t},e){return{point:t,delta:zs(t,Zr(e)),offset:zs(t,Wc(e)),velocity:Uc(e,.1)}}function Wc(t){return t[0]}function Zr(t){return t[t.length-1]}function Uc(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=Zr(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>ot(e)));)n--;if(!s)return{x:0,y:0};const o=Q(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function zc(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?R(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?R(n,t,s.max):Math.min(t,n)),t}function Ks(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Kc(t,{top:e,left:n,bottom:s,right:i}){return{x:Ks(t.x,n,i),y:Ks(t.y,e,s)}}function Hs(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Hc(t,e){return{x:Hs(t.x,e.x),y:Hs(t.y,e.y)}}function _c(t,e){let n=.5;const s=K(t),i=K(e);return i>s?n=Ft(e.min,e.max-s,t.min):s>i&&(n=Ft(t.min,t.max-i,e.min)),lt(0,1,n)}function $c(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Tn=.35;function Yc(t=Tn){return t===!1?t=0:t===!0&&(t=Tn),{x:_s(t,"left","right"),y:_s(t,"top","bottom")}}function _s(t,e,n){return{min:$s(t,e),max:$s(t,n)}}function $s(t,e){return typeof t=="number"?t:t[e]||0}const Gc=new WeakMap;class Xc{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=j(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(re(h).point)},r=(h,f)=>{const{drag:d,dragPropagation:p,onDragStart:T}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Za(d),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),J(m=>{let C=this.getAxisMotionValue(m).get()||0;if(at.test(C)){const{projection:g}=this.visualElement;if(g&&g.layout){const S=g.layout.layoutBox[m];S&&(C=K(S)*(parseFloat(C)/100))}}this.originPoint[m]=C}),T&&A.postRender(()=>T(h,f)),vn(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:T,onDrag:v}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:m}=f;if(p&&this.currentDirection===null){this.currentDirection=Zc(m),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),v&&v(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>J(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Xr(e,{onSessionStart:o,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:s,contextWindow:Gr(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&A.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!fe(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let r=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(r=zc(r,this.constraints[e],this.elastic[e])),o.set(r)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Et(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Kc(s.layoutBox,e):this.constraints=!1,this.elastic=Yc(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&J(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$c(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Et(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=ql(s,i.root,this.visualElement.getTransformPagePoint());let r=Hc(i.layout.layoutBox,o);if(n){const a=n(Gl(r));this.hasMutatedConstraints=!!a,a&&(r=kr(a))}return r}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=J(c=>{if(!fe(c,n,this.currentDirection))return;let h=l&&l[c]||{};r&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:s?e[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return vn(this.visualElement,e),s.start(ss(e,s,0,n,this.visualElement,!1))}stopAnimation(){J(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){J(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){J(n=>{const{drag:s}=this.getProps();if(!fe(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(e[n]-R(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Et(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};J(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const l=a.get();i[r]=_c({min:l,max:l},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),J(r=>{if(!fe(r,e,null))return;const a=this.getAxisMotionValue(r),{min:l,max:u}=this.constraints[r];a.set(R(l,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;Gc.set(this.visualElement,this);const e=this.visualElement.current,n=Yt(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();Et(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),A.read(s);const r=ee(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(J(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())}));return()=>{r(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=Tn,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function fe(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Zc(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qc extends mt{constructor(e){super(e),this.removeGroupControls=$,this.removeListeners=$,this.controls=new Xc(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ys=t=>(e,n)=>{t&&A.postRender(()=>t(e,n))};class Jc extends mt{constructor(){super(...arguments),this.removePointerDownListener=$}onPointerDown(e){this.session=new Xr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gr(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ys(e),onStart:Ys(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&A.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Yt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ae={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gs(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ut={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(w.test(t))t=parseFloat(t);else return t;const n=Gs(t,e.target.x),s=Gs(t,e.target.y);return`${n}% ${s}%`}},Qc={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=pt.parse(t);if(i.length>5)return s;const o=pt.createTransformer(t),r=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+r]/=a,i[1+r]/=l;const u=R(a,l,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}};let Ge=!1;class tu extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=e;bl(eu),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),Ge&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ae.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:r}=s;return r&&(r.isPresent=o,Ge=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?r.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?r.promote():r.relegate()||A.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$n.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;Ge=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qr(t){const[e,n]=ml(),s=x.useContext(Ai);return y.jsx(tu,{...t,layoutGroup:s,switchLayoutGroup:x.useContext(Rr),isPresent:e,safeToRemove:n})}const eu={borderRadius:{...Ut,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomLeftRadius:Ut,borderBottomRightRadius:Ut,boxShadow:Qc};function nu(t,e,n){const s=U(t)?t:it(t);return s.start(ss("",s,e,n)),s.animation}const su=(t,e)=>t.depth-e.depth;class iu{constructor(){this.children=[],this.isDirty=!1}add(e){An(this.children,e),this.isDirty=!0}remove(e){Mn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(su),this.isDirty=!1,this.children.forEach(e)}}function ru(t,e){const n=_.now(),s=({timestamp:i})=>{const o=i-n;o>=e&&(tt(s),t(o-e))};return A.setup(s,!0),()=>tt(s)}const Jr=["TopLeft","TopRight","BottomLeft","BottomRight"],ou=Jr.length,Xs=t=>typeof t=="string"?parseFloat(t):t,Zs=t=>typeof t=="number"||w.test(t);function au(t,e,n,s,i,o){i?(t.opacity=R(0,n.opacity??1,lu(s)),t.opacityExit=R(e.opacity??1,0,cu(s))):o&&(t.opacity=R(e.opacity??1,n.opacity??1,s));for(let r=0;r<ou;r++){const a=`border${Jr[r]}Radius`;let l=qs(e,a),u=qs(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Zs(l)===Zs(u)?(t[a]=Math.max(R(Xs(l),Xs(u),s),0),(at.test(u)||at.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=R(e.rotate||0,n.rotate||0,s))}function qs(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lu=Qr(0,.5,Ii),cu=Qr(.5,.95,$);function Qr(t,e,n){return s=>s<t?0:s>e?1:n(Ft(t,e,s))}function Js(t,e){t.min=e.min,t.max=e.max}function q(t,e){Js(t.x,e.x),Js(t.y,e.y)}function Qs(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ti(t,e,n,s,i){return t-=e,t=Re(t,1/n,s),i!==void 0&&(t=Re(t,1/i,s)),t}function uu(t,e=0,n=1,s=.5,i,o=t,r=t){if(at.test(e)&&(e=parseFloat(e),e=R(r.min,r.max,e/100)-r.min),typeof e!="number")return;let a=R(o.min,o.max,s);t===o&&(a-=e),t.min=ti(t.min,e,n,a,i),t.max=ti(t.max,e,n,a,i)}function ei(t,e,[n,s,i],o,r){uu(t,e[n],e[s],e[i],e.scale,o,r)}const hu=["x","scaleX","originX"],fu=["y","scaleY","originY"];function ni(t,e,n,s){ei(t.x,e,hu,n?n.x:void 0,s?s.x:void 0),ei(t.y,e,fu,n?n.y:void 0,s?s.y:void 0)}function si(t){return t.translate===0&&t.scale===1}function to(t){return si(t.x)&&si(t.y)}function ii(t,e){return t.min===e.min&&t.max===e.max}function du(t,e){return ii(t.x,e.x)&&ii(t.y,e.y)}function ri(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eo(t,e){return ri(t.x,e.x)&&ri(t.y,e.y)}function oi(t){return K(t.x)/K(t.y)}function ai(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pu{constructor(){this.members=[]}add(e){An(this.members,e),e.scheduleRender()}remove(e){if(Mn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mu(t,e,n){let s="";const i=t.x.translate/e.x,o=t.y.translate/e.y,r=n?.z||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:d,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),c&&(s+=`rotate(${c}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),d&&(s+=`skewX(${d}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const Xe=["","X","Y","Z"],gu=1e3;let yu=0;function Ze(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function no(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ur(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",A,!(i||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&no(s)}function so({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=e?.()){this.id=yu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tu),this.nodes.forEach(Su),this.nodes.forEach(Pu),this.nodes.forEach(Cu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iu)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Dn),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const l=this.eventHandlers.get(r);l&&l.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Gn(r)&&!hl(r),this.instance=r;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,h=0;const f=()=>this.root.updateBlockedByResize=!1;A.read(()=>{h=window.innerWidth}),t(r,()=>{const d=window.innerWidth;d!==h&&(h=d,this.root.updateBlockedByResize=!0,c&&c(),c=ru(f,250),Ae.hasAnimatedSinceResize&&(Ae.hasAnimatedSinceResize=!1,this.nodes.forEach(ui)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Eu,{onLayoutAnimationStart:T,onLayoutAnimationComplete:v}=u.getProps(),m=!this.targetLayout||!eo(this.targetLayout,d),C=!h&&f;if(this.options.layoutRoot||this.resumeFrom||C||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Hn(p,"layout"),onPlay:T,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(c,C)}else h||ui(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Au),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&no(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(li);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ci);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wu),this.nodes.forEach(vu),this.nodes.forEach(xu)):this.nodes.forEach(ci),this.clearAllSnapshots();const a=_.now();N.delta=lt(0,1e3/60,a-N.timestamp),N.timestamp=a,N.isProcessing=!0,Oe.update.process(N),Oe.preRender.process(N),Oe.render.process(N),N.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$n.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bu),this.sharedNodes.forEach(Mu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,A.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){A.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!K(this.snapshot.measuredBox.x)&&!K(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=j(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!to(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;r&&this.instance&&(a||Tt(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return r&&(l=this.removeTransform(l)),Ru(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return j();const a=r.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Lu))){const{scroll:u}=this.root;u&&(Rt(a.x,u.offset.x),Rt(a.y,u.offset.y))}return a}removeElementScroll(r){const a=j();if(q(a,r),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;u!==this.root&&c&&h.layoutScroll&&(c.wasRoot&&q(a,r),Rt(a.x,c.offset.x),Rt(a.y,c.offset.y))}return a}applyTransform(r,a=!1){const l=j();q(l,r);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Lt(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Tt(c.latestValues)&&Lt(l,c.latestValues)}return Tt(this.latestValues)&&Lt(l,this.latestValues),l}removeTransform(r){const a=j();q(a,r);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Tt(u.latestValues))continue;pn(u.latestValues)&&u.updateSnapshot();const c=j(),h=u.measurePageBox();q(c,h),ni(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Tt(this.latestValues)&&ni(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==N.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=N.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=j(),this.relativeTargetOrigin=j(),Xt(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),q(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=j(),this.targetWithTransforms=j()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Oc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):q(this.target,this.layout.layoutBox),Fr(this.target,this.targetDelta)):q(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=j(),this.relativeTargetOrigin=j(),Xt(this.relativeTargetOrigin,this.target,f.target),q(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pn(this.parent.latestValues)||jr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const r=this.getLead(),a=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===N.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;q(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Zl(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=j());const{target:d}=r;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qs(this.prevProjectionDelta.x,this.projectionDelta.x),Qs(this.prevProjectionDelta.y,this.projectionDelta.y)),Gt(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!ai(this.projectionDelta.x,this.prevProjectionDelta.x)||!ai(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.visualElement?.scheduleRender(),r){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kt(),this.projectionDelta=kt(),this.projectionDeltaWithTransform=kt()}setAnimationOrigin(r,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=kt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=j(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,T=d!==p,v=this.getStack(),m=!v||v.members.length<=1,C=!!(T&&!m&&this.options.crossfade===!0&&!this.path.some(Du));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const b=S/1e3;hi(h.x,r.x,b),hi(h.y,r.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vu(this.relativeTarget,this.relativeTargetOrigin,f,b),g&&du(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=j()),q(g,this.relativeTarget)),T&&(this.animationValues=c,au(c,u,this.latestValues,b,C,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=A.update(()=>{Ae.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=it(0)),this.currentAnimation=nu(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=r;if(!(!a||!l||!u)){if(this!==r&&this.layout&&u&&io(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||j();const h=K(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+h;const f=K(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}q(a,l),Lt(a,c),Gt(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new pu),this.sharedNodes.get(r).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){const{layoutId:r}=this.options;return r?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:r}=this.options;return r?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Ze("z",r,u,this.animationValues);for(let c=0;c<Xe.length;c++)Ze(`rotate${Xe[c]}`,r,u,this.animationValues),Ze(`skew${Xe[c]}`,r,u,this.animationValues);r.render();for(const c in u)r.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);r.scheduleRender()}applyProjectionStyles(r,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=Pe(a?.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=Pe(a?.pointerEvents)||""),this.hasProjected&&!Tt(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=mu(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),r.transform=h;const{x:f,y:d}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,u.animationValues?r.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:r.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in te){if(c[p]===void 0)continue;const{correct:T,applyTo:v,isCSSVariable:m}=te[p],C=h==="none"?c[p]:T(c[p],u);if(v){const g=v.length;for(let S=0;S<g;S++)r[v[S]]=C}else m?this.options.visualElement.renderState.vars[p]=C:r[p]=C}this.options.layoutId&&(r.pointerEvents=u===this?Pe(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>r.currentAnimation?.stop()),this.root.nodes.forEach(li),this.root.sharedNodes.clear()}}}function vu(t){t.updateLayout()}function xu(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?J(c=>{const h=o?e.measuredBox[c]:e.layoutBox[c],f=K(h);h.min=n[c].min,h.max=h.min+f}):io(i,e.layoutBox,n)&&J(c=>{const h=o?e.measuredBox[c]:e.layoutBox[c],f=K(n[c]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+f)});const r=kt();Gt(r,n,e.layoutBox);const a=kt();o?Gt(a,t.applyTransform(s,!0),e.measuredBox):Gt(a,n,e.layoutBox);const l=!to(r);let u=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:h,layout:f}=c;if(h&&f){const d=j();Xt(d,e.layoutBox,h.layoutBox);const p=j();Xt(p,n,f.layoutBox),eo(d,p)||(u=!0),c.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=d,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:r,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Tu(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cu(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bu(t){t.clearSnapshot()}function li(t){t.clearMeasurements()}function ci(t){t.isLayoutDirty=!1}function wu(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ui(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Su(t){t.resolveTargetDelta()}function Pu(t){t.calcProjection()}function Au(t){t.resetSkewAndRotation()}function Mu(t){t.removeLeadSnapshot()}function hi(t,e,n){t.translate=R(e.translate,0,n),t.scale=R(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fi(t,e,n,s){t.min=R(e.min,n.min,s),t.max=R(e.max,n.max,s)}function Vu(t,e,n,s){fi(t.x,e.x,n.x,s),fi(t.y,e.y,n.y,s)}function Du(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eu={duration:.45,ease:[.4,0,.1,1]},di=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pi=di("applewebkit/")&&!di("chrome/")?Math.round:$;function mi(t){t.min=pi(t.min),t.max=pi(t.max)}function Ru(t){mi(t.x),mi(t.y)}function io(t,e,n){return t==="position"||t==="preserve-aspect"&&!Bc(oi(e),oi(n),.2)}function Lu(t){return t!==t.root&&t.scroll?.wasRoot}const ku=so({attachResizeListener:(t,e)=>ee(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qe={current:void 0},ro=so({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qe.current){const t=new ku({});t.mount(window),t.setOptions({layoutScroll:!0}),qe.current=t}return qe.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ju={pan:{Feature:Jc},drag:{Feature:qc,ProjectionNode:ro,MeasureLayout:qr}};function gi(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&A.postRender(()=>o(e,re(e)))}class Fu extends mt{mount(){const{current:e}=this.node;e&&(this.unmount=qa(e,(n,s)=>(gi(this.node,s,"Start"),i=>gi(this.node,i,"End"))))}unmount(){}}class Iu extends mt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ne(ee(this.node.current,"focus",()=>this.onFocus()),ee(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yi(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&A.postRender(()=>o(e,re(e)))}class Bu extends mt{mount(){const{current:e}=this.node;e&&(this.unmount=el(e,(n,s)=>(yi(this.node,s,"Start"),(i,{success:o})=>yi(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cn=new WeakMap,Je=new WeakMap,Ou=t=>{const e=Cn.get(t.target);e&&e(t)},Nu=t=>{t.forEach(Ou)};function Wu({root:t,...e}){const n=t||document;Je.has(n)||Je.set(n,{});const s=Je.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(Nu,{root:t,...e})),s[i]}function Uu(t,e,n){const s=Wu(e);return Cn.set(t,n),s.observe(t),()=>{Cn.delete(t),s.unobserve(t)}}const zu={some:0,all:1};class Ku extends mt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=e,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:zu[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return Uu(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Hu(e,n))&&this.startObserver()}unmount(){}}function Hu({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _u={inView:{Feature:Ku},tap:{Feature:Bu},focus:{Feature:Iu},hover:{Feature:Fu}},$u={layout:{ProjectionNode:ro,MeasureLayout:qr}},Yu={...Rc,..._u,...ju,...$u},Gu=Yl(Yu,oc);function Xu(t,e,n){x.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const Zu=50,vi=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),qu=()=>({time:0,x:vi(),y:vi()}),Ju={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function xi(t,e,n,s){const i=n[e],{length:o,position:r}=Ju[e],a=i.current,l=n.time;i.current=t[`scroll${r}`],i.scrollLength=t[`scroll${o}`]-t[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ft(0,i.scrollLength,i.current);const u=s-l;i.velocity=u>Zu?0:En(i.current-a,u)}function Qu(t,e,n){xi(t,"x",e,n),xi(t,"y",e,n),e.time=n}function th(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(pr(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:o}=s.getBBox();n.x+=i,n.y+=o;let r=null,a=s.parentNode;for(;!r;)a.tagName==="svg"&&(r=a),a=s.parentNode;s=r}else break;return n}const bn={start:0,center:.5,end:1};function Ti(t,e,n=0){let s=0;if(t in bn&&(t=bn[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?s=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?s=i/100*document.documentElement.clientWidth:t.endsWith("vh")?s=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(s=e*t),n+s}const eh=[0,0];function nh(t,e,n,s){let i=Array.isArray(t)?t:eh,o=0,r=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,bn[t]?t:"0"]),o=Ti(i[0],n,s),r=Ti(i[1],e),o-r}const sh={All:[[0,0],[1,1]]},ih={x:0,y:0};function rh(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function oh(t,e,n){const{offset:s=sh.All}=n,{target:i=t,axis:o="y"}=n,r=o==="y"?"height":"width",a=i!==t?th(i,t):ih,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:rh(i),u={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let c=!e[o].interpolate;const h=s.length;for(let f=0;f<h;f++){const d=nh(s[f],u[r],l[r],a[o]);!c&&d!==e[o].interpolatorOffsets[f]&&(c=!0),e[o].offset[f]=d}c&&(e[o].interpolate=Nn(e[o].offset,qi(s),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=lt(0,1,e[o].interpolate(e[o].current))}function ah(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function lh(t,e,n,s={}){return{measure:i=>{ah(t,s.target,n),Qu(t,n,i),(s.offset||s.target)&&oh(t,n,s)},notify:()=>e(n)}}const zt=new WeakMap,Ci=new WeakMap,Qe=new WeakMap,bi=t=>t===document.scrollingElement?window:t;function oo(t,{container:e=document.scrollingElement,...n}={}){if(!e)return $;let s=Qe.get(e);s||(s=new Set,Qe.set(e,s));const i=qu(),o=lh(e,t,i,n);if(s.add(o),!zt.has(e)){const a=()=>{for(const h of s)h.measure(N.timestamp);A.preUpdate(l)},l=()=>{for(const h of s)h.notify()},u=()=>A.read(a);zt.set(e,u);const c=bi(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&Ci.set(e,ul(e,u)),c.addEventListener("scroll",u,{passive:!0}),u()}const r=zt.get(e);return A.read(r,!1,!0),()=>{tt(r);const a=Qe.get(e);if(!a||(a.delete(o),a.size))return;const l=zt.get(e);zt.delete(e),l&&(bi(e).removeEventListener("scroll",l),Ci.get(e)?.(),window.removeEventListener("resize",l))}}const wi=new Map;function ch(t){const e={value:0},n=oo(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function ao({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const i=wi.get(e)??new Map;wi.set(e,i);const o=n.target??"self",r=i.get(o)??{},a=s+(n.offset??[]).join(",");return r[a]||(r[a]=!n.target&&er()?new ScrollTimeline({source:e,axis:s}):ch({container:e,...n})),r[a]}function uh(t,e){const n=ao(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),xr(i=>{s.time=s.iterationDuration*i},n))})}function hh(t){return t.length===2}function fh(t,e){return hh(t)?oo(n=>{t(n[e.axis].progress,n)},e):xr(t,ao(e))}function dh(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return $;const i={axis:e,container:n,...s};return typeof t=="function"?fh(t,i):uh(t,i)}const ph=()=>({scrollX:it(0),scrollY:it(0),scrollXProgress:it(0),scrollYProgress:it(0)}),de=t=>t?!t.current:!1;function mh({container:t,target:e,...n}={}){const s=Le(ph),i=x.useRef(null),o=x.useRef(!1),r=x.useCallback(()=>(i.current=dh((a,{x:l,y:u})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(u.current),s.scrollYProgress.set(u.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return Sn(()=>{if(o.current=!1,de(t)||de(e)){o.current=!0;return}else return r()},[r]),x.useEffect(()=>{if(o.current)return Zt(!de(t)),Zt(!de(e)),r()},[r]),s}function Ct(t){const e=Le(()=>it(t)),{isStatic:n}=x.useContext(ke);if(n){const[,s]=x.useState(t);x.useEffect(()=>e.on("change",s),[])}return e}function lo(t,e){const n=Ct(e()),s=()=>n.set(e());return s(),Sn(()=>{const i=()=>A.preRender(s,!1,!0),o=t.map(r=>r.on("change",i));return()=>{o.forEach(r=>r()),tt(s)}}),n}function gh(t){$t.current=[],t();const e=lo($t.current,t);return $t.current=void 0,e}function yh(t,e,n,s){if(typeof t=="function")return gh(t);const i=typeof e=="function"?e:fl(e,n,s);return Array.isArray(t)?Si(t,i):Si([t],([o])=>i(o))}function Si(t,e){const n=Le(()=>[]);return lo(t,()=>{n.length=0;const s=t.length;for(let i=0;i<s;i++)n[i]=t[i].get();return e(n)})}function vh(t){const e=x.useRef(0),{isStatic:n}=x.useContext(ke);x.useEffect(()=>{if(n)return;const s=({timestamp:i,delta:o})=>{e.current||(e.current=i),t(i-e.current,o)};return A.update(s,!0),()=>tt(s)},[t])}function xh(t){const e=Ct(t.getVelocity()),n=()=>{const s=t.getVelocity();e.set(s),s&&A.update(n)};return Xu(t,"change",()=>{A.update(n,!1,!0)}),e}const Th="_container_6jgc8_1",Ch="_anchor_6jgc8_9",bh="_chainLink_6jgc8_15",wh="_figure_6jgc8_26",pe={container:Th,anchor:Ch,chainLink:bh,figure:wh},co=({color:t})=>y.jsxs("svg",{viewBox:"0 0 425 712",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",display:"block"},children:[y.jsx("path",{d:"M186.12 123.585C186.12 140.585 201.12 146.085 201.12 146.085H225.62C225.62 146.085 233.62 144.585 235.12 123.585L235.126 123.513C236.637 102.345 244.191 -3.41132 306.62 0.0847155C369.121 3.58472 360.621 72.5847 360.62 91.5847C360.62 110.585 352.621 167.585 357.12 184.585C361.62 201.585 67.6202 215.585 69.1204 188.585C70.6207 161.585 63.6202 127.085 62.1204 106.585C60.6207 86.0847 68.1204 1.08472 127.12 3.58472C186.12 6.08472 186.12 106.585 186.12 123.585Z",fill:"#E6D7C2"}),y.jsx("path",{d:"M114.12 692.585C108.12 680.585 114.62 668.585 124.12 667.085C133.62 665.585 207.12 676.085 207.12 676.085C207.12 676.085 216.12 692.585 207.12 705.085C198.12 717.585 120.12 704.585 114.12 692.585Z",fill:"#E6D7C2"}),y.jsx("path",{d:"M230.12 700.085C222.62 684.585 235.62 671.085 235.62 671.085L313.62 638.585C313.62 638.585 309.62 649.085 313.62 662.085C317.62 675.085 325.62 676.085 325.62 684.585C325.62 693.085 323.62 698.085 313.62 705.085C303.62 712.085 237.62 715.585 230.12 700.085Z",fill:"#E6D7C2"}),y.jsx("path",{d:"M63.1207 595.585L52.6204 600.585C52.6204 600.585 42.6207 619.585 44.6207 624.585C46.6207 629.585 50.6207 614.085 61.1207 617.085C71.6207 620.085 63.1207 595.585 63.1207 595.585Z",fill:"#E6D7C2"}),y.jsx("path",{d:"M385.121 594.585L368.621 598.085C368.621 598.085 364.621 612.085 370.121 619.085C375.621 626.085 376.122 613.585 379.621 624.585C383.121 635.585 395.121 620.585 392.121 612.585C389.121 604.585 385.121 594.585 385.121 594.585Z",fill:"#E6D7C2"}),y.jsx("path",{d:"M39.6208 581.585C37.1208 565.085 104.621 479.085 121.621 470.585C138.621 462.085 150.621 465.585 157.121 477.585C163.621 489.585 127.121 559.085 121.621 574.085C116.121 589.085 94.1208 613.085 80.1208 613.085C66.1208 613.085 42.1208 598.085 39.6208 581.585Z",fill:t}),y.jsx("path",{d:"M394.893 580.769C397.393 564.269 329.893 478.269 312.893 469.769C295.893 461.269 283.893 464.769 277.393 476.769C270.893 488.769 307.393 558.269 312.893 573.269C318.393 588.269 340.393 612.269 354.393 612.269C368.393 612.269 392.393 597.269 394.893 580.769Z",fill:t}),y.jsx("path",{d:"M142.121 478.085C155.121 472.085 276.621 470.585 288.121 478.085C299.621 485.585 319.621 528.585 321.121 559.085C322.621 589.585 316.121 649.585 311.121 659.085C306.121 668.585 244.621 681.585 234.121 677.085C223.621 672.585 223.621 659.085 223.621 659.085H218.121C218.121 659.085 218.121 670.585 211.621 677.085C205.121 683.585 129.621 670.085 119.121 664.585C108.621 659.085 106.121 581.085 107.121 559.085C108.121 537.085 129.121 484.085 142.121 478.085Z",fill:t}),y.jsx("path",{d:"M0.122924 334.585C3.62292 257.585 21.1229 145.585 211.123 144.085C401.123 142.585 429.623 260.585 423.623 340.085C417.623 419.585 367.121 457.585 315.123 477.085C263.125 496.585 169.623 490.585 119.123 477.085C68.623 463.585 -3.37708 411.585 0.122924 334.585Z",fill:t}),y.jsx("path",{d:"M145.121 242.085C201.621 242.085 211.121 257.585 211.121 257.585C211.121 257.585 239.121 242.085 280.121 242.085C321.121 242.085 375.121 285.585 372.121 351.585C369.121 417.585 301.621 465.585 206.121 467.085C110.621 468.585 47.1207 429.085 45.1206 362.585C43.1206 296.085 88.6206 242.085 145.121 242.085Z",fill:"#E6D7C2"}),y.jsx("path",{d:"M219.121 364.085C218.121 357.085 194.121 356.585 191.621 364.085C189.121 371.585 202.121 380.585 206.121 380.585C210.121 380.585 220.121 371.085 219.121 364.085Z",fill:"#57321F",stroke:"#351D11",strokeWidth:"4",strokeLinecap:"round"}),y.jsx("ellipse",{cx:"125.121",cy:"101.585",rx:"18.5",ry:"34.5",fill:t}),y.jsx("ellipse",{cx:"303.121",cy:"101.585",rx:"18.5",ry:"34.5",transform:"rotate(3.80925 303.121 101.585)",fill:t}),y.jsx("ellipse",{cx:"84.6207",cy:"338.085",rx:"14",ry:"21",transform:"rotate(22.954 84.6207 338.085)",fill:"#D8AE9E"}),y.jsx("ellipse",{cx:"14",cy:"21",rx:"14",ry:"21",transform:"matrix(-0.920818 0.389992 0.389992 0.920818 340.404 317.085)",fill:"#D8AE9E"}),y.jsx("path",{d:"M78.6208 378.085C73.6208 372.085 83.6472 349.585 83.6472 349.585L83.667 349.648C87.9401 363.232 90.0881 370.061 97.1207 376.585C102.859 381.908 111.422 386.796 121.621 392.042C125.716 394.148 130.075 396.312 134.621 398.585C138.717 400.633 143.993 402.312 150.121 403.658C160.403 405.917 173.084 407.239 186.621 407.792C198.967 408.296 212.025 408.16 224.621 407.512C237.931 406.828 250.725 405.572 261.621 403.895C275.011 401.834 285.533 399.137 290.621 396.085C290.955 395.884 291.288 395.683 291.621 395.481C300.843 389.887 309.705 383.638 317.121 376.39C324.203 369.467 329.965 361.633 333.461 352.585C333.461 352.585 337.121 377.585 332.621 380.085C328.121 382.585 317.121 376.39 317.121 376.39C317.121 376.39 321.121 396.085 314.621 400.585C308.121 405.085 291.621 395.481 291.621 395.481C291.621 395.481 292.621 416.085 282.621 418.085C272.621 420.085 261.621 403.895 261.621 403.895C261.621 403.895 258.121 426.085 246.621 426.585C235.121 427.085 224.621 407.512 224.621 407.512C224.621 407.512 216.121 427.085 206.121 426.085C196.121 425.085 186.621 407.792 186.621 407.792C186.621 407.792 178.121 429.085 167.121 427.085C156.121 425.085 150.121 403.658 150.121 403.658C150.121 403.658 134.121 422.085 126.121 418.085C118.121 414.085 121.621 392.042 121.621 392.042C121.621 392.042 104.621 405.585 98.1207 400.585C91.6207 395.585 97.1207 376.585 97.1207 376.585C97.1207 376.585 83.6208 384.085 78.6208 378.085Z",fill:"#D9D9D9"}),y.jsx("path",{d:"M81.6208 342.585C82.2844 345.064 82.9577 347.393 83.6472 349.585M335.121 347.585C334.644 349.292 334.089 350.958 333.461 352.585M83.6472 349.585C83.6472 349.585 73.6208 372.085 78.6208 378.085C83.6208 384.085 97.1207 376.585 97.1207 376.585M83.6472 349.585C87.9335 363.211 90.0772 370.051 97.1207 376.585M97.1207 376.585C97.1207 376.585 91.6207 395.585 98.1207 400.585C104.621 405.585 121.621 392.042 121.621 392.042M97.1207 376.585C102.859 381.908 111.422 386.796 121.621 392.042M121.621 392.042C125.716 394.148 130.075 396.312 134.621 398.585C138.717 400.633 143.993 402.312 150.121 403.658M121.621 392.042C121.621 392.042 118.121 414.085 126.121 418.085C134.121 422.085 150.121 403.658 150.121 403.658M150.121 403.658C150.121 403.658 156.121 425.085 167.121 427.085C178.121 429.085 186.621 407.792 186.621 407.792M150.121 403.658C160.403 405.917 173.084 407.239 186.621 407.792M186.621 407.792C186.621 407.792 196.121 425.085 206.121 426.085C216.121 427.085 224.621 407.512 224.621 407.512M186.621 407.792C198.967 408.296 212.025 408.16 224.621 407.512M224.621 407.512C224.621 407.512 235.121 427.085 246.621 426.585C258.121 426.085 261.621 403.895 261.621 403.895M224.621 407.512C237.931 406.828 250.725 405.572 261.621 403.895M261.621 403.895C275.011 401.834 285.533 399.137 290.621 396.085C290.955 395.884 291.288 395.683 291.621 395.481M261.621 403.895C261.621 403.895 272.621 420.085 282.621 418.085C292.621 416.085 291.621 395.481 291.621 395.481M291.621 395.481C291.621 395.481 308.121 405.085 314.621 400.585C321.121 396.085 317.121 376.39 317.121 376.39M291.621 395.481C300.843 389.887 309.705 383.638 317.121 376.39M317.121 376.39C317.121 376.39 328.121 382.585 332.621 380.085C337.121 377.585 333.461 352.585 333.461 352.585M317.121 376.39C324.203 369.467 329.965 361.633 333.461 352.585",stroke:"#351D11",strokeWidth:"4",strokeLinecap:"round"}),y.jsx("path",{d:"M143.524 318.921C143.557 318.931 143.589 318.944 143.621 318.959C143.621 318.959 143.622 318.959 143.622 318.959C144.803 319.425 145.935 319.797 147.047 320.073C150.733 320.813 154.713 320.356 158.12 319.69C162.62 318.81 174.121 363.585 146.62 361.085C119.312 358.602 138.844 317.412 143.524 318.921Z",fill:"#57321F"}),y.jsx("path",{d:"M130.62 312.085C146.195 321.272 150.959 323.303 165.12 317.085M143.621 318.959C139.121 316.832 119.12 358.585 146.62 361.085C174.121 363.585 162.62 318.81 158.12 319.69C153.621 320.569 148.121 321.085 143.621 318.959Z",stroke:"#351D11",strokeWidth:"4",strokeLinecap:"round"}),y.jsx("path",{d:"M270.217 318.921C270.184 318.931 270.152 318.944 270.12 318.959C270.12 318.959 270.12 318.959 270.119 318.959C268.938 319.425 267.806 319.797 266.694 320.073C263.009 320.813 259.028 320.356 255.621 319.69C251.121 318.81 239.621 363.585 267.121 361.085C294.429 358.602 274.897 317.412 270.217 318.921Z",fill:"#57321F"}),y.jsx("path",{d:"M283.121 312.085C267.547 321.272 262.783 323.303 248.621 317.085M270.12 318.959C274.621 316.832 294.621 358.585 267.121 361.085C239.621 363.585 251.121 318.81 255.621 319.69C260.12 320.569 265.62 321.085 270.12 318.959Z",stroke:"#351D11",strokeWidth:"4",strokeLinecap:"round"})]});co.__docgenInfo={description:"",methods:[],displayName:"LafufuFigure",props:{color:{required:!1,tsType:{name:"string"},description:""}}};const Sh={small:{width:55,height:95,stringLength:70,chainLinks:10,overlap:20},medium:{width:85,height:145,stringLength:110,chainLinks:16,overlap:30},large:{width:120,height:205,stringLength:160,chainLinks:22,overlap:42}},Pi=16,ut=({size:t="medium",string:{length:e,chainLinks:n,color:s}={},color:i="#E8E5DC"})=>{const o=Sh[t],r=o.width,a=o.height,l=e??o.stringLength,u=n??o.chainLinks,c=s??"#333",h=o.overlap,f={x:Pi/2,y:Pi/2},d=x.useRef(null),p=x.useRef([]),T=x.useRef(!1),v=Ct(f.x),m=Ct(f.y+l+a/2),C=Ct(0),g=Ct(0),S=Ct(0),{scrollY:b}=mh(),V=xh(b),k=yh(V,D=>Math.max(Math.min(D*1e-4,2),-2)),P=x.useRef({x:0,y:0}),I=x.useRef(0),H=.6,ct=.99,oe=.1,gt=(D,M,E)=>{const O=E*(Math.PI/180),Y=Math.sin(O)*(a/2),z=-Math.cos(O)*(a/2);return{x:D+Y,y:M+z}};vh(()=>{if(!p.current)return;let D=v.get(),M=m.get(),E=C.get(),O=g.get(),Y=S.get();if(!T.current){O+=H,E+=k.get(),E*=ct,O*=ct;let W=D+E,et=M+O;const X=gt(W,et,Y),nt=X.x-f.x,G=X.y-f.y,Z=Math.sqrt(nt*nt+G*G);if(Z>l){const vt=Math.atan2(G,nt),ce=(Z-l)*oe,uo=f.x+Math.cos(vt)*(l+ce),ho=f.y+Math.sin(vt)*(l+ce);W+=uo-X.x,et+=ho-X.y;const rs=nt/Z,os=G/Z,Be=E*rs+O*os;Be>0&&(E-=Be*rs,O-=Be*os)}const yt=W-f.x,rt=et-f.y,Mt=(Math.atan2(rt,yt)*(180/Math.PI)-90-Y+540)%360-180;Y+=Mt*.1,C.set(E),g.set(O),v.set(W),m.set(et),S.set(Y),D=W,M=et}const z=gt(D,M,Y);Wt(z.x,z.y)});const Wt=(D,M)=>{const O=S.get()*(Math.PI/180),Y=D-Math.sin(O)*h,z=M+Math.cos(O)*h,W=Y-f.x,et=z-f.y,X=D-f.x,nt=M-f.y,G=Math.sqrt(X*X+nt*nt),yt=Math.max(0,l-G)*.4;for(let rt=0;rt<u;rt++){const At=p.current[rt];if(!At)continue;const ft=rt/(u-1),Mt=f.x+W*ft,vt=f.y+et*ft,le=yt*4*ft*(1-ft);At.style.transform=`translate(${Mt}px, ${vt+le}px) translate(-50%, -50%)`}},ae=(D,M)=>{T.current=!0,C.set(0),g.set(0);const E=d.current?.getBoundingClientRect();if(!E)return;const O=M.point.x-E.left,Y=M.point.y-E.top,z=v.get(),W=m.get();P.current={x:z-O,y:W-Y};const et=S.get(),X=gt(z,W,et),nt=X.x-f.x,G=X.y-f.y,Z=Math.sqrt(nt*nt+G*G);I.current=Math.max(0,l-Z)},is=(D,M)=>{const E=d.current?.getBoundingClientRect();if(!E)return;const O=M.point.x-E.left,Y=M.point.y-E.top;let z=O+P.current.x,W=Y+P.current.y;const et=z-f.x,X=W-f.y,G=Math.atan2(X,et)*(180/Math.PI)-90;S.set(G);const Z=gt(z,W,G),yt=Z.x-f.x,rt=Z.y-f.y,At=Math.sqrt(yt*yt+rt*rt),ft=l+I.current*.5;if(At>ft){const vt=ft/At,le=f.x+yt*vt,ce=f.y+rt*vt;z+=le-Z.x,W+=ce-Z.y,I.current*=.95}v.set(z),m.set(W);const Mt=gt(z,W,G);Wt(Mt.x,Mt.y)},B=(D,M)=>{T.current=!1,C.set(M.velocity.x/60),g.set(M.velocity.y/60),I.current=0};return y.jsxs("div",{className:pe.container,ref:d,role:"presentation",children:[y.jsx("div",{className:pe.anchor,style:{backgroundColor:c}}),Array.from({length:u}).map((D,M)=>y.jsx("div",{ref:E=>{p.current[M]=E},className:pe.chainLink,style:{backgroundColor:c}},M)),y.jsx(Gu.div,{className:pe.figure,style:{x:v,y:m,width:r,height:a,rotate:S,marginLeft:-r/2,marginTop:-a/2},drag:!0,dragElastic:0,dragMomentum:!1,onDragStart:ae,onDrag:is,onDragEnd:B,children:y.jsx(co,{color:i})})]})};ut.__docgenInfo={description:"",methods:[],displayName:"Lafufu",props:{size:{required:!1,tsType:{name:"union",raw:"keyof typeof LAFUFU_SIZE_CONFIG",elements:[{name:"literal",value:"small"},{name:"literal",value:"medium"},{name:"literal",value:"large"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},string:{required:!1,tsType:{name:"signature",type:"object",raw:"{length?: number, chainLinks?: number, color?: string}",signature:{properties:[{key:"length",value:{name:"number",required:!1}},{key:"chainLinks",value:{name:"number",required:!1}},{key:"color",value:{name:"string",required:!1}}]}},description:"",defaultValue:{value:"{}",computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#E8E5DC'",computed:!1}}}};const Dh={title:"Charms/Lafufu",component:ut,tags:["autodocs"],parameters:{layout:"centered"}},me={args:{},render:t=>y.jsx("div",{style:{width:"20rem",height:"20rem"},children:y.jsx(ut,{...t})})},ge={render:()=>y.jsxs("div",{style:{display:"flex",gap:"5rem",padding:"2rem",height:"30rem"},children:[y.jsxs("div",{style:{position:"relative",height:"fit-content",border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[y.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"Small"}),y.jsx("div",{style:{position:"absolute",right:0,bottom:0},children:y.jsx(ut,{size:"small"})})]}),y.jsxs("div",{style:{position:"relative",height:"fit-content",border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[y.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"Medium"}),y.jsx("div",{style:{position:"absolute",right:0,bottom:0},children:y.jsx(ut,{size:"medium"})})]}),y.jsxs("div",{style:{position:"relative",height:"fit-content",border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[y.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"Large"}),y.jsx("div",{style:{position:"absolute",right:0,bottom:0},children:y.jsx(ut,{size:"large"})})]})]})},ye={render:()=>{const[t,e]=x.useState("#FFB6C1");return y.jsxs("div",{style:{display:"flex",gap:"2rem",height:"20rem"},children:[y.jsx(ut,{color:t}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[y.jsx("label",{style:{fontSize:"16px",fontWeight:"bold"},children:"Color"}),y.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),style:{width:"4rem",height:"2rem",border:"none",borderRadius:"4px",cursor:"pointer"}}),y.jsx("span",{style:{fontSize:"0.75rem",color:"#666"},children:t})]})]})}},ve={args:{string:{length:200,chainLinks:30,color:"#cdcdcd"}},render:t=>y.jsx("div",{style:{width:"20rem",height:"30rem"},children:y.jsx(ut,{...t})})},xe={render:()=>y.jsxs("div",{style:{width:"30rem",padding:"2rem",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{display:"flex",gap:"1rem",flexDirection:"row",alignItems:"space-between"},children:[y.jsx("button",{style:{position:"relative",padding:"1rem 3rem",borderRadius:"8px",border:"none",background:"#dad1d7",fontWeight:"bold",cursor:"pointer",fontSize:"20px",color:"#211e22"},children:"Button"}),y.jsx("button",{style:{position:"relative",padding:"1rem 3rem",borderRadius:"8px",border:"none",background:"#dad1d7",fontWeight:"bold",cursor:"pointer",fontSize:"20px",color:"#211e22"},children:"Button"}),y.jsxs("button",{style:{position:"relative",padding:"1rem 3rem",borderRadius:"8px",border:"none",background:"#f9bae4",fontWeight:"bold",cursor:"pointer",fontSize:"20px",color:"#371f3e"},children:[y.jsx("span",{children:"Button"}),y.jsx("div",{style:{position:"absolute",right:"0",bottom:"0"},children:y.jsx(ut,{string:{color:"#371f3e"},color:"#f9bae4"})})]})]}),y.jsx("p",{children:"I really believe that if you practice enough you could paint the 'Mona Lisa' with a two-inch brush. We don't need any guidelines or formats. All we need to do is just let it flow right out of us. Every single thing in the world has its own personality - and it is up to you to make friends with the little rascals."}),y.jsx("p",{children:"Here's something that's fun. You can't make a mistake. Anything that happens you can learn to use - and make something beautiful out of it. Now, we're going to fluff this cloud."}),y.jsx("p",{children:"Isn't it fantastic that you can change your mind and create all these happy things? Didn't you know you had that much power? You can move mountains. You can do anything. You're the greatest thing that has ever been or ever will be. You're special. You're so very special. If you don't like it - change it. It's your world. We must be quiet, soft and gentle. Just let go - and fall like a little waterfall."}),y.jsx("p",{children:"See there how easy that is. The man who does the best job is the one who is happy at his job. In life you need colors."})]})};me.parameters={...me.parameters,docs:{...me.parameters?.docs,source:{originalSource:`{
  args: {},
  render: args => <div style={{
    width: '20rem',
    height: '20rem'
  }}><Lafufu {...args} /></div>
}`,...me.parameters?.docs?.source}}};ge.parameters={...ge.parameters,docs:{...ge.parameters?.docs,source:{originalSource:`{
  render: () => <div style={{
    display: 'flex',
    gap: '5rem',
    padding: '2rem',
    height: '30rem'
  }}>
      <div style={{
      position: 'relative',
      height: 'fit-content',
      border: '1px solid #ccc',
      padding: '1rem',
      borderRadius: '8px'
    }}>
        <span style={{
        fontSize: '16px',
        fontWeight: 'bold'
      }}>Small</span>
        <div style={{
        position: 'absolute',
        right: 0,
        bottom: 0
      }}>
          <Lafufu size="small" />
        </div>
      </div>
      <div style={{
      position: 'relative',
      height: 'fit-content',
      border: '1px solid #ccc',
      padding: '1rem',
      borderRadius: '8px'
    }}>
        <span style={{
        fontSize: '16px',
        fontWeight: 'bold'
      }}>Medium</span>
        <div style={{
        position: 'absolute',
        right: 0,
        bottom: 0
      }}>
          <Lafufu size="medium" />
        </div>
      </div>
      <div style={{
      position: 'relative',
      height: 'fit-content',
      border: '1px solid #ccc',
      padding: '1rem',
      borderRadius: '8px'
    }}>
        <span style={{
        fontSize: '16px',
        fontWeight: 'bold'
      }}>Large</span>
        <div style={{
        position: 'absolute',
        right: 0,
        bottom: 0
      }}>
          <Lafufu size="large" />
        </div>
      </div> 
    </div>
}`,...ge.parameters?.docs?.source}}};ye.parameters={...ye.parameters,docs:{...ye.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [color, setColor] = useState('#FFB6C1');
    return <div style={{
      display: 'flex',
      gap: '2rem',
      height: '20rem'
    }}>
          <Lafufu color={color} />

        <div style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '0.5rem'
      }}>
          <label style={{
          fontSize: '16px',
          fontWeight: 'bold'
        }}>Color</label>
          <input type="color" value={color} onChange={e => setColor(e.target.value)} style={{
          width: '4rem',
          height: '2rem',
          border: 'none',
          borderRadius: '4px',
          cursor: 'pointer'
        }} />
          <span style={{
          fontSize: '0.75rem',
          color: '#666'
        }}>{color}</span>
        </div>
      </div>;
  }
}`,...ye.parameters?.docs?.source}}};ve.parameters={...ve.parameters,docs:{...ve.parameters?.docs,source:{originalSource:`{
  args: {
    string: {
      length: 200,
      chainLinks: 30,
      color: '#cdcdcd'
    }
  },
  render: args => <div style={{
    width: '20rem',
    height: '30rem'
  }}><Lafufu {...args} /></div>
}`,...ve.parameters?.docs?.source}}};xe.parameters={...xe.parameters,docs:{...xe.parameters?.docs,source:{originalSource:`{
  render: () => <div style={{
    width: '30rem',
    padding: '2rem',
    display: 'flex',
    flexDirection: 'column'
  }}>
      <div style={{
      display: 'flex',
      gap: '1rem',
      flexDirection: 'row',
      alignItems: 'space-between'
    }}>
        <button style={{
        position: 'relative',
        padding: '1rem 3rem',
        borderRadius: '8px',
        border: 'none',
        background: '#dad1d7',
        fontWeight: 'bold',
        cursor: 'pointer',
        fontSize: '20px',
        color: '#211e22'
      }}>Button</button>
        <button style={{
        position: 'relative',
        padding: '1rem 3rem',
        borderRadius: '8px',
        border: 'none',
        background: '#dad1d7',
        fontWeight: 'bold',
        cursor: 'pointer',
        fontSize: '20px',
        color: '#211e22'
      }}>Button</button>
        <button style={{
        position: 'relative',
        padding: '1rem 3rem',
        borderRadius: '8px',
        border: 'none',
        background: '#f9bae4',
        fontWeight: 'bold',
        cursor: 'pointer',
        fontSize: '20px',
        color: '#371f3e'
      }}>
          <span>Button</span>
          <div style={{
          position: 'absolute',
          right: '0',
          bottom: '0'
        }}>
            <Lafufu string={{
            color: '#371f3e'
          }} color='#f9bae4' />
          </div>
        </button>
      </div>
        <p>I really believe that if you practice enough you could paint the 'Mona Lisa' with a two-inch brush. We don't need any guidelines or formats. All we need to do is just let it flow right out of us. Every single thing in the world has its own personality - and it is up to you to make friends with the little rascals.</p>
        <p>Here's something that's fun. You can't make a mistake. Anything that happens you can learn to use - and make something beautiful out of it. Now, we're going to fluff this cloud.</p>
        <p>Isn't it fantastic that you can change your mind and create all these happy things? Didn't you know you had that much power? You can move mountains. You can do anything. You're the greatest thing that has ever been or ever will be. You're special. You're so very special. If you don't like it - change it. It's your world. We must be quiet, soft and gentle. Just let go - and fall like a little waterfall.</p>
        <p>See there how easy that is. The man who does the best job is the one who is happy at his job. In life you need colors.</p>
     </div>
}`,...xe.parameters?.docs?.source}}};const Eh=["Default","Sizes","CustomColor","CustomString","InContent"];export{ye as CustomColor,ve as CustomString,me as Default,xe as InContent,ge as Sizes,Eh as __namedExportsOrder,Dh as default};
